<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wavy SVG Animation</title>
    <style>
        svg {
            border: 1px solid black;
            height: 100vh ;
            position: fixed;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>

<svg id="animation" width="240" height="1000" xmlns="http://www.w3.org/2000/svg">
    <!-- Background Fill -->
    <rect id="background" width="240" height="1000" fill="#230000" />

    <!-- Define the combined clip path -->
    <clipPath id="curveClip">
        <path id="combinedCurves" fill="white" />
    </clipPath>

    <!-- The filled area to the right of all curves -->
    <rect id="fillArea" width="240" height="1000" x="0" y="0" fill="#2e0000" clip-path="url(#curveClip)" />

    <!-- The curves themselves -->
    <path id="curve1" stroke="#230000" fill="none" stroke-width="4"/>
    <path id="curve2" stroke="#230000" fill="none" stroke-width="4"/>
    <path id="curve3" stroke="#230000" fill="none" stroke-width="4"/>
</svg>

<script>
    const svg = document.getElementById("animation");
    const midpoint = 500;
    const paths = [
        {
            element: document.getElementById("curve1"),
            origin: { x: 100, y: midpoint },
            angle: 0,
            frequency: -4, // Hz
            amplitude: 10 // px
        },
        {
            element: document.getElementById("curve2"),
            origin: { x: 100, y: midpoint },
            angle: -3,
            frequency: -3, // Hz
            amplitude: 10// px
        },
        {
            element: document.getElementById("curve3"),
            origin: { x: 100, y: midpoint },
            angle: 4,
            frequency: 4, // Hz
            amplitude: 10 // px
        }
    ];

    const numPoints = 1000; // Number of curve points
    const curveHeight = 1000; // Total height of the curve

    function animate(time) {
        const sceneTime = time / 4000; // Convert time to seconds
        let combinedPath = "";
        paths.forEach(({ element, origin, angle, frequency, amplitude }) => {
            const points = [];
            for (let i = 0; i < numPoints; i++) {
                const t = i / (numPoints - 1);
                const y = origin.y + (t - 0.5) * curveHeight;
                const xOffset = Math.sin((y * frequency + sceneTime) * 2 * Math.PI) * amplitude;
                const rotatedX = origin.x + xOffset * Math.cos(angle * Math.PI / 180) - (y - origin.y) * Math.sin(angle * Math.PI / 180);
                const rotatedY = origin.y + xOffset * Math.sin(angle * Math.PI / 180) + (y - origin.y) * Math.cos(angle * Math.PI / 180);
                points.push(`${rotatedX},${rotatedY}`);
            }
            const pathData = `M ${points.map((p) => p).join(" L ")}`;
            element.setAttribute("d", pathData);
            combinedPath += `${pathData} L 0,1000 L 0,0 Z `;
        });

        // Update the combined clip path for the filled region
        document.getElementById("combinedCurves").setAttribute("d", combinedPath );
        requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
</script>
</body>
</html>
